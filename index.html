
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quran Majeed - 30 Para - Made by Sam</title>
<link href="https://fonts.googleapis.com/css2?family=Amiri&family=Lateef&display=swap" rel="stylesheet">
<style>
:root { --gold: #ffd700; --dark-green: #012a1f; --light-green: #044d3a; }

body { 
    margin: 0; padding: 0; 
    font-family: 'Amiri', serif; 
    background: radial-gradient(circle, var(--light-green), var(--dark-green)); 
    color: white; text-align: center; 
}

/* Bismillah Styling */
.bismillah { 
    font-size: clamp(30px, 8vw, 55px); 
    color: var(--gold); 
    margin: 25px 0; 
    font-weight: bold;
    text-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
}

#welcome-screen { padding: 20px; min-height: 100vh; display: flex; flex-direction: column; align-items: center; }

/* Durood Container with Animation */
.durood-container { 
    background: rgba(0, 0, 0, 0.5); 
    padding: 25px; 
    border-radius: 20px; 
    border: 2px solid var(--gold); 
    margin: 15px auto; 
    width: 90%; 
    max-width: 750px; 
    box-shadow: 0 0 20px rgba(0,0,0,0.5); 
    animation: glow-pulse 3s infinite alternate; 
}

@keyframes glow-pulse { 
    from { box-shadow: 0 0 5px var(--gold); transform: scale(1); } 
    to { box-shadow: 0 0 25px var(--gold); transform: scale(1.01); } 
}

.durood-text { font-family: 'Lateef', serif; font-size: clamp(20px, 5.5vw, 30px); line-height: 1.8; direction: rtl; }
.m-name { color: var(--gold); font-weight: bold; text-shadow: 0 0 10px var(--gold); }

/* Para Selection Grid */
.para-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fill, minmax(85px, 1fr)); 
    gap: 10px; 
    width: 100%; 
    max-width: 900px; 
    margin: 30px 0; 
}

.para-card { 
    background: rgba(255, 215, 0, 0.1); 
    border: 1px solid var(--gold); 
    padding: 15px; 
    border-radius: 12px; 
    cursor: pointer; 
    transition: 0.3s; 
    font-weight: bold; 
}

.para-card:hover { background: var(--gold); color: black; transform: translateY(-5px); }

/* Viewer Screen */
#viewer-screen { display: none; }
header { 
    padding: 15px; 
    background: rgba(0,0,0,0.8); 
    border-bottom: 2px solid var(--gold); 
    position: sticky; top: 0; z-index: 100;
}

#pdf-render { 
    border: 3px solid var(--gold); 
    margin: 15px auto; 
    max-width: 98%; 
    background: white; 
    display: block; 
}

.btn { 
    background: var(--gold); 
    color: black; 
    padding: 10px 20px; 
    border-radius: 30px; 
    font-weight: bold; 
    border: none; 
    cursor: pointer; 
    text-decoration: none; 
    display: inline-block;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}

footer { padding: 25px; color: var(--gold); font-weight: bold; letter-spacing: 2px; text-transform: uppercase; }
#loader { display: none; color: var(--gold); margin: 20px; font-weight: bold; font-size: 20px; }
</style>
</head>
<body>

<div id="welcome-screen">
  <div class="bismillah">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…Ù°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ’Ù…Ù</div>
  
  <div class="durood-container">
    <div class="durood-text">
      Ø§ÙÙ„Ù„Ù‘Ù°Ù‡ÙÙ…Ù‘Ù ØµÙÙ„Ù‘Ù Ø¹ÙÙ„Ù°Ù‰ <span class="m-name">Ù…ÙØ­ÙÙ…Ù‘ÙØ¯Ù</span> ÙˆÙÙ‘Ø¹ÙÙ„Ù°Ù‰ Ø§Ù°Ù„Ù <span class="m-name">Ù…ÙØ­ÙÙ…Ù‘ÙØ¯Ù</span> ÙƒÙÙ…ÙØ§ ØµÙÙ„Ù‘ÙÙŠÙ’ØªÙ Ø¹ÙÙ„Ù°Ù‰ Ø§ÙØ¨Ù’Ø±ÙØ§Ù‡ÙÙŠÙ’Ù…Ù ÙˆÙØ¹ÙÙ„Ù°Ù‰ Ø§Ù°Ù„Ù Ø§ÙØ¨Ù’Ø±ÙØ§Ù‡ÙÙŠÙ’Ù…Ù Ø§ÙÙ†Ù‘ÙÙƒÙ Ø­ÙÙ…ÙÙŠÙ’Ø¯ÙŒ Ù…Ù‘ÙØ¬ÙÙŠÙ’Ø¯ÙŒ <br>
      Ø§ÙÙ„Ù„Ù‘Ù°Ù‡ÙÙ…Ù‘Ù Ø¨ÙØ§Ø±ÙÙƒÙ’ Ø¹ÙÙ„Ù°Ù‰ <span class="m-name">Ù…ÙØ­ÙÙ…Ù‘ÙØ¯Ù</span> ÙˆÙÙ‘Ø¹ÙÙ„Ù°Ù‰ Ø§Ù°Ù„Ù <span class="m-name">Ù…ÙØ­ÙÙ…Ù‘ÙØ¯Ù</span> ÙƒÙÙ…ÙØ§ Ø¨ÙØ§Ø±ÙÙƒÙ’ØªÙ Ø¹ÙÙ„Ù°Ù‰ Ø§ÙØ¨Ù’Ø±ÙØ§Ù‡ÙÙŠÙ’Ù…Ù ÙˆÙØ¹ÙÙ„Ù°Ù‰ Ø§Ù°Ù„Ù Ø§ÙØ¨Ù’Ø±ÙØ§Ù‡ÙÙŠÙ’Ù…Ù Ø§ÙÙ†Ù‘ÙÙƒÙ Ø­ÙÙ…ÙÙŠÙ’Ø¯ÙŒ Ù…Ù‘ÙØ¬ÙÙŠÙ’Ø¯ÙŒ
    </div>
  </div>

  <div class="para-grid" id="para-grid"></div>
  <footer>âœ¨ MADE BY SAM âœ¨</footer>
</div>

<div id="viewer-screen">
  <header>
    <button onclick="location.reload()" class="btn" style="float:left;">ğŸ  Home</button>
    <div id="para-title" style="color:var(--gold); font-size:22px;">Loading...</div>
  </header>

  <div id="loader">Sabr Karein, Para Load Ho Raha Hai...</div>

  <div style="margin: 15px 0;">
    <button class="btn" id="prev-page">â¬… Prev</button>
    <span style="margin: 0 10px; font-size: 18px;">Page: <span id="page-num">1</span> / <span id="page-count">0</span></span>
    <button class="btn" id="next-page">Next â¡</button>
  </div>

  <canvas id="pdf-render"></canvas>
  
  <div style="padding:20px;">
    <a id="download-link" class="btn" href="#" download>ğŸ“¥ Is Para Ko Download Karein</a>
  </div>
  <footer>âœ¨ MADE BY SAM âœ¨</footer>
</div>

<script src="https://mozilla.github.io/pdf.js/build/pdf.js"></script>
<script>
let pdfDoc = null, pageNum = 1, pageIsRendering = false;
const canvas = document.getElementById('pdf-render'), ctx = canvas.getContext('2d');

// Scale adjust for mobile
const scale = window.innerWidth < 600 ? 0.9 : 1.3;

// 1. Generate 30 Buttons
const grid = document.getElementById('para-grid');
for(let i=1; i<=30; i++) {
    let card = document.createElement('div');
    card.className = 'para-card';
    card.innerHTML = `Para ${i}`;
    card.onclick = () => loadPara(i);
    grid.appendChild(card);
}

// 2. Load the specific PDF
function loadPara(pNum) {
    document.getElementById('welcome-screen').style.display = 'none';
    document.getElementById('viewer-screen').style.display = 'block';
    document.getElementById('loader').style.display = 'block';
    
    // Formatting number for Chapter01.pdf style
    let formattedNum = pNum < 10 ? '0' + pNum : pNum;
    const paraUrl = `quran_pdf/Chapter${formattedNum}.pdf`;
    
    document.getElementById('para-title').innerText = 'Reading Para ' + pNum;
    document.getElementById('download-link').href = paraUrl;

    pdfjsLib.getDocument(paraUrl).promise.then(pdfDoc_ => {
        pdfDoc = pdfDoc_;
        pageNum = 1;
        document.getElementById('page-count').textContent = pdfDoc.numPages;
        document.getElementById('loader').style.display = 'none';
        renderPage(pageNum);
    }).catch(err => {
        alert("File nahi mili! Check karein ki folder 'quran_pdf' ke andar Chapter" + formattedNum + ".pdf maujood hai.");
        location.reload();
    });
}

// 3. Render Page Logic
function renderPage(num) {
    pageIsRendering = true;
    pdfDoc.getPage(num).then(page => {
        const viewport = page.getViewport({ scale });
        canvas.height = viewport.height;
        canvas.width = viewport.width;
        
        const renderCtx = { canvasContext: ctx, viewport: viewport };
        page.render(renderCtx).promise.then(() => {
            pageIsRendering = false;
        });
        
        document.getElementById('page-num').textContent = num;
        window.scrollTo(0,0); // Page badalne par scroll up
    });
}

// Navigations
document.getElementById('prev-page').onclick = () => {
    if(pageNum <= 1 || pageIsRendering) return;
    pageNum--;
    renderPage(pageNum);
};

document.getElementById('next-page').onclick = () => {
    if(pageNum >= pdfDoc.numPages || pageIsRendering) return;
    pageNum++;
    renderPage(pageNum);
};
</script>
</body>
</html>
